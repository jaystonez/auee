(()=>{let t;"undefined"==typeof novaId&&(t="mcjpbnabjihhnjikcmpljpglajjchlmj"),function(){const e=document.createElement("div");e.id=t,e.style.display="none",document.body.appendChild(e)}(),window.__contentScriptActive=!0;let e=null,n=null;window.__lastRightClickedElement=null,document.addEventListener("contextmenu",(function(t){window.__lastRightClickedElement=t.target}),!0);let o=Date.now();const i=-1,r={PING:{limit:1e3},getGlobalData:{limit:i},setGlobalData:{limit:i},sendQuestion:{limit:.5},sendAudio:{limit:.5},novaCurrentTab:{limit:.5},captureTab:{limit:.5},novaOpenWeb:{limit:.5},playAudio:{limit:.5},notificationDisplayed:{limit:500},sendQuestion:{limit:.5},getFreshStateId:{limit:.5},sendTts:{limit:.5},savelicenseKey:{limit:i},render_markdown:{limit:i},DEFAULT:{limit:i}},s=new Map;function a(t){window.postMessage({type:"BGPT_FROM_EXTENSION",content:t},window.location.origin)}let c=new Map;const l=new Set,u=["a","button","textarea","input","select","span","tr[role='row']","[onclick]",'div[contenteditable="true"]','div[role="button"]','div[role="tab"]','div[role="link"]','div[role="textbox"]','div[aria-multiline="true"]','div[contenteditable="plaintext-only"]','div[data-contextual-menu="true"]',"div[onclick]",'div[data-clickable="true"]',"span[aria-label]","li[role='option']","li[role='menuitem']","li[role='menuitemcheckbox']"];function d(t){if(!(t&&t instanceof Element))return!1;const e=t.tagName.toLowerCase();if("textarea"===e)return!0;if("input"===e){const e=t.getAttribute("type")||"text";return["text","email","password","number","tel","search","url","date","datetime-local","month","week","time","color"].includes(e)}return!(!t.hasAttribute("contenteditable")||"true"!==t.getAttribute("contenteditable"))||"textbox"===t.getAttribute("role")}function m(t){return!!(t&&t instanceof Element)&&"select"===t.tagName.toLowerCase()}function p(t){if(!(t&&t instanceof Element))return!1;for(const e of u)try{if(t.matches(e))return!0}catch(t){}return!1}function f(t){if(!(t&&t instanceof Element))return!1;const e=window.getComputedStyle(t);return"auto"===e.overflow||"scroll"===e.overflow||"auto"===e.overflowY||"scroll"===e.overflowY||"auto"===e.overflowX||"scroll"===e.overflowX}function h(t){return d(t)}function b(){let t=0;const e=document.querySelectorAll(["p","span","a","div","button","h1","h2","h3","h4","h5","h6","li","textarea",'input[type="text"]'].join(",")),n=[],o=[];for(const i of e){const e=i.textContent.trim();if(e&&g(i)){if(t+e.length>461538)break;let r={tagName:i.tagName.toLowerCase(),textContent:e,attributes:{}};i.id&&(r.attributes.id=i.id),i.className&&(r.attributes.class=i.className),o.forEach((t=>{i.hasAttribute(t)&&(r.attributes[t]=i.getAttribute(t))})),t+=e.length,n.push(r)}}return n}function g(t){try{if(!(t&&t instanceof Element))return!1;if(!t.isConnected)return!1;if(w(t))return!0;const e=window.getComputedStyle(t);if("none"===e.display||"hidden"===e.visibility||"0"===e.opacity)return!1;if(t.getBoundingClientRect().width<=0||t.getBoundingClientRect().height<=0)return!1;if(t.getBoundingClientRect().right<0||t.getBoundingClientRect().bottom<0||t.getBoundingClientRect().left>window.innerWidth||t.getBoundingClientRect().top>window.innerHeight)return!1;{const e=document.elementFromPoint(t.getBoundingClientRect().left+t.getBoundingClientRect().width/2,t.getBoundingClientRect().top+t.getBoundingClientRect().height/2);return t.contains(e)||e===t}}catch(t){return!1}}function w(t){try{if("IFRAME"===t.tagName)return!1;if(t.ownerDocument!==document)return!0;const e=T(document,2,0);return!!e.some((e=>{const n=e===t;let o=!1;try{const n=S(t);o=n===S(e)&&""!==n}catch(t){}const i=e.tagName===t.tagName&&e.id===t.id&&e.className===t.className;return n||o||i}))}catch(t){return!1}}function y(t){try{if(!(t&&t instanceof Element)){return!!w(t)}const e=window.getComputedStyle(t);return"none"!==e.display&&"hidden"!==e.visibility&&"0"!==e.opacity&&"0px"!==e.height&&"0px"!==e.width}catch(t){return!1}}function v(t,e,n=2){return!(t.right+n<e.left||t.left>e.right+n||t.bottom+n<e.top||t.top>e.bottom+n)}function E(t,e,n,o=0){const i=[{top:t.top,left:t.left-e/2,priority:1},{top:t.top-e/2,left:t.left,priority:2},{top:t.top,left:t.right-e/2,priority:3},{top:t.bottom-e/2,left:t.left,priority:4}],r=o>0?o/4:0;for(const t of i){const o={top:t.top,right:t.left+e,bottom:t.top+e,left:t.left};let i=!1;for(const t of n)if(v(o,t,2)){i=!0;break}if(!i)return{top:t.top+window.scrollY+r,left:t.left+window.scrollX+r}}return{top:t.top+window.scrollY-e/2,left:t.left+window.scrollX-e/2}}function k(t){let e=0,n=t;for(;n&&n!==document.body;){const t=window.getComputedStyle(n);if("static"!==t.position){const n=parseInt(t.zIndex);isNaN(n)||(e=Math.max(e,n))}n=n.parentElement}return e}async function x(t,e=!0,n=1){if(e){await new Promise((t=>{const e=document.querySelector("#annotation-overlay");e&&e.remove(),document.querySelectorAll(".annotationBGPT").forEach((t=>{t.remove()}));const n=document.querySelector("style[data-bgpt-annotations]");n&&n.remove(),t()}));const o=document.createElement("style");o.setAttribute("data-bgpt-annotations","true"),o.textContent="\n\t\t\t#annotation-overlay {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tpointer-events: none;\n\t\t\t\tz-index: 2147483647;\n\t\t\t}\n\n\t\t\t.annotationBGPT {\n\t\t\t\tposition: fixed;\n\t\t\t\tbackground-color: red;\n\t\t\t\tcolor: white;\n\t\t\t\tfont-size: 0.8vw;\n\t\t\t\tpadding: 0.3vw;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tz-index: 2147483647;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\topacity: 0.9;\n\t\t\t\twidth: 1.1vw;\n\t\t\t\theight: 1.1vw;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tpointer-events: none;\n\t\t\t\tborder: 0.2px solid black;\n\t\t\t\tbox-shadow: 0 0 5px rgba(0,0,0,0.5);\n\t\t\t}\n\n\t\t\t.elementHighlightBGPT {\n\t\t\t\tposition: fixed;\n\t\t\t\tborder: 1px dashed red;\n\t\t\t\tborder-radius: 2px;\n\t\t\t\tpointer-events: none;\n\t\t\t\tz-index: 2147483646;\n\t\t\t\tbox-shadow: 0 0 3px rgba(255,0,0,0.2);\n\t\t\t}\n\t\t",document.head.appendChild(o);const i=document.createElement("div");i.id="annotation-overlay",document.body.appendChild(i);const r=6.2+2*5+2*2;for(const[e,n]of t.entries())try{await new Promise((t=>{const o=n.getBoundingClientRect(),s=window.innerHeight||document.documentElement.clientHeight,a=window.innerWidth||document.documentElement.clientWidth;if(0===o.width||0===o.height||o.top<0||o.left<0||o.bottom>s||o.right>a||o.top>s)return void t();const u=document.elementsFromPoint(o.left+o.width/2,o.top+o.height/2)[0];if(u!==n){const e=u.getBoundingClientRect(),o=n.getBoundingClientRect(),i=k(n),r=k(u);if(e.left<=o.left&&e.right>=o.right&&e.top<=o.top&&e.bottom>=o.bottom&&r>i)return void t()}const d=Array.from(document.querySelectorAll(".annotationBGPT")).map((t=>t.getBoundingClientRect())),m=E(o,r,d),p=document.createElement("div");p.classList.add("annotationBGPT"),p.innerText=`${e+1}`;const f=window.getComputedStyle(n);parseInt(f.borderRadius);p.style.cssText=`\n\t\t\t\t\t\ttop: ${o.top}px;\n\t\t\t\t\t\tleft: ${o.left}px;\n\t\t\t\t\t`;const h=document.createElement("div");h.classList.add("elementHighlightBGPT"),h.style.cssText=`\n\t\t\t\t\t\ttop: ${o.top}px;\n\t\t\t\t\t\tleft: ${o.left}px;\n\t\t\t\t\t\twidth: ${o.width}px;\n\t\t\t\t\t\theight: ${o.height}px;\n\t\t\t\t\t\tborder-radius: ${f.borderRadius};\n\t\t\t\t\t`,i.appendChild(h),i.appendChild(p),l.add({top:m.top,right:m.left+r,bottom:m.top+r,left:m.left});const b=S(n);c.set(e+1,{element:n,selector:b}),setTimeout(t,10)}))}catch(t){continue}await new Promise((t=>setTimeout(t,70)));const s=document.querySelector("#annotation-overlay"),a=document.querySelectorAll(".annotationBGPT");if(s&&0!==a.length)return{overlay:i,mapping:c};if(n<2)return x(t,e,n+1);throw new Error("Failed to create annotation overlay or no clickable elements found after maximum attempts")}return await new Promise((t=>{const e=document.querySelector("#annotation-overlay");e&&e.remove(),document.querySelectorAll(".annotationBGPT").forEach((t=>{t.remove()})),t()})),{overlay:null,mapping:null}}async function C(t=!0,e=null,n=null){const o=Array.from(document.querySelectorAll(u.join(","))),i=Array.from(document.querySelectorAll(["div","section","article","main","header","footer","p","h1","h2","h3","h4","h5","h6"].join(","))).filter(f),r=T(document,2,0);let s=Array.from(new Set(o.concat(i).concat(r))).filter((t=>{try{return y(t)}catch(t){return!1}}));if(e)switch(e){case"input":s=s.filter(d);break;case"select":s=s.filter(m);break;case"click":s=s.filter(p);break;case"scroll_to_element":s=s.filter((t=>p(t)||f(t)));break;case"bulk_input":s=s.filter(h)}const{overlay:a,mapping:c}=await x(s,t);t&&a?n({overlay:a,mapping:c}):n(null,null)}function T(t,e=2,n=0,o=new Set,i=Date.now()){if(Date.now()-i>1e3)return[];const r=new Set,s=t.location?.href||"";if(s&&o.has(s))return[];s&&o.add(s);const a=t.querySelectorAll("iframe");a.length;const c=Array.from(a).slice(0,e);for(const t of c)try{if(t.contentDocument){Array.from(t.contentDocument.querySelectorAll(u.join(","))).forEach((t=>r.add(t)));const s=["div","section","article","main","header","footer","p","h1","h2","h3","h4","h5","h6"];if(Array.from(t.contentDocument.querySelectorAll(s.join(","))).filter(f).forEach((t=>r.add(t))),n<2){T(t.contentDocument,e,n+1,o,i).forEach((t=>r.add(t)))}}}catch(t){}return Array.from(r)}function _(t=null){const e=["data-role","data-id","alt","title","name","type","placeholder","aria-placeholder","aria-label","aria-labelledby","aria-required","aria-disabled","aria-checked","aria-expanded","aria-selected","data-virtualkeyboard","data-contextual-menu","spellcheck","data-testid","aria-multiline","data-board-item","role","href","tabindex"],n=["aria-labelledby","aria-describedby","aria-controls","aria-details","aria-errormessage","aria-flowto","aria-owns"],o=Array.from(document.querySelectorAll(u.join(","))),i=Array.from(document.querySelectorAll(["div","section","article","main","header","footer","p","h1","h2","h3","h4","h5","h6"].join(","))).filter(f),r=T(document,2,0);let s=Array.from(new Set(o.concat(i).concat(r))).filter((t=>y(t)&&function(t){try{if(!(t&&t instanceof Element))return!1;if(t.baseURI!==document.baseURI)return!0;const e=t.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth,i=window.scrollY||window.pageYOffset,r=window.scrollX||window.pageXOffset,s=e.top+i,a=e.left+r;return s>=i&&a>=r&&s<=i+n&&a<=r+o&&e.width>0&&e.height>0}catch(t){return!1}}(t)));if(t)switch(t){case"input":s=s.filter(d);break;case"select":s=s.filter(m);break;case"click":s=s.filter(p);break;case"scroll_to_element":s=s.filter((t=>p(t)||f(t)));break;case"scroll_on_element_up":case"scroll_on_element_down":s=s.filter(f);break;case"bulk_input":s=s.filter(h)}const a=s.map((t=>{let o={tag:t.tagName.toLowerCase()},i=!1;if(o.attributes={},!y(t))return null;if(o.attributes.selector=S(t),"select"===t.tagName.toLowerCase()){const e=Array.from(t.options).slice(0,50);o.attributes.select_options=e.map(((t,e)=>({text:t.text||t.textContent,value:e.toString()}))),o.textcontent=e.length>0?e[0].text||e[0].textContent:""}if(t.id){o.id=t.id,i=!0,o.attributes||(o.attributes={});const e=document.querySelector(`label[for="${t.id}"]`);if(e){const t=e.innerText?.trim()||e.textContent?.trim()||e.innerHTML?.trim();t&&(o.attributes["reference_label-for"]=t)}}return t.className&&(o.class=t.className.replace(/\n/g,"").trim(),i=!0),o.textcontent||(t.textContent.trim()?o.textcontent=t.textContent.trim():t.hasAttribute("aria-label")&&(o.textcontent=t.getAttribute("aria-label"))),u.forEach((e=>{const n=e.match(/\[(.*?)\]/);if(n){const e=n[1].split("=")[0];t.hasAttribute(e)&&(o.attributes[e]=t.getAttribute(e))}})),e.forEach((e=>{if(t.hasAttribute(e)&&(o.attributes[e]=t.getAttribute(e),n.includes(e))){t.getAttribute(e).split(" ").forEach((t=>{const n=document.getElementById(t);if(n){const t=n.innerText?.trim()||n.textContent?.trim()||n.innerHTML?.trim()||"";t&&(o.attributes[`reference_${e}`]=t)}}))}})),"div"===t.tagName.toLowerCase()&&"true"===t.getAttribute("contenteditable")&&t.hasAttribute("title")&&(o.attributes.title=t.getAttribute("title")),o})).filter((t=>null!==t)),c=[],l=new Set;return a.forEach((t=>{const e=JSON.stringify(t);l.has(e)||(c.push(t),l.add(e))})),c}function S(t){try{if(!(t instanceof Element||w(t)))return"";const e=[];for(;t;)try{if(t.id){const n=t.id.match(/^\d/)?`#\\3${t.id.charAt(0)} ${t.id.slice(1)}`:"#"+CSS.escape(t.id);e.unshift(n);break}let n=t.tagName.toLowerCase();if(t.className){n+=t.className.split(/\s+/).filter((t=>t)).map((t=>"."+CSS.escape(t))).join("")}if(t.parentNode){const e=Array.from(t.parentNode.children);if(e.length>1){n+=`:nth-child(${e.indexOf(t)+1})`}}if(e.unshift(n),t=t.parentNode,"BODY"===t?.tagName){e.unshift("body");break}}catch(t){break}return e.join(" > ")}catch(t){return""}}function A(t,e,n,o,i={},r=!0){if(i&&i.selector)try{const t=document.querySelector(i.selector);if(t)return t}catch(t){}let s=document.getElementsByTagName(t),a=Array.from(s);if(e&&(a=a.filter((t=>t.id===e))),n&&o){const t=n.trim().replace(/\s+/g," ").split(" ");a=a.filter((e=>t.every((t=>e.classList.contains(t)))&&(e.textContent.trim().includes(o)||e.getAttribute("aria-label")?.includes(o))))}else if(n){const t=n.split(" ");a=a.filter((e=>t.every((t=>e.classList.contains(t)))))}else o&&(a=a.filter((t=>t.textContent.trim().includes(o)||t.getAttribute("aria-label")?.includes(o))));if(Object.keys(i).length>0){const t=Object.entries(i).reduce(((t,[e,n])=>(e.startsWith("reference_")||(t[e]=n),t)),{});a=a.filter((e=>Object.entries(t).every((([t,n])=>e.getAttribute(t)===n)))),a.sort(((t,e)=>{const n=t.getAttributeNames().length;return e.getAttributeNames().length-n}))}if(a.length>0)return a[0];if(r){let r=T(document,2,0).filter((e=>e.tagName.toLowerCase()===t.toLowerCase()));if(e&&(r=r.filter((t=>t.id===e))),n&&o){const t=n.trim().replace(/\s+/g," ").split(" ");r=r.filter((e=>t.every((t=>e.classList.contains(t)))&&(e.textContent.trim().includes(o)||e.getAttribute("aria-label")?.includes(o))))}else if(n){const t=n.split(" ");r=r.filter((e=>t.every((t=>e.classList.contains(t)))))}else o&&(r=r.filter((t=>t.textContent.trim().includes(o)||t.getAttribute("aria-label")?.includes(o))));if(Object.keys(i).length>0){const t=Object.entries(i).reduce(((t,[e,n])=>(e.startsWith("reference_")||(t[e]=n),t)),{});r=r.filter((e=>Object.entries(t).every((([t,n])=>e.getAttribute(t)===n)))),r.sort(((t,e)=>{const n=t.getAttributeNames().length;return e.getAttributeNames().length-n}))}if(r.length>0)return r[0]}return null}function $(t,e,n={}){switch(e){case"focus":case"focusin":case"focusout":case"blur":!function(t,e,n={}){const o=new FocusEvent(e,{bubbles:!0,cancelable:!0,clientX:t.getBoundingClientRect().left+t.offsetWidth/2,clientY:t.getBoundingClientRect().top+t.offsetHeight/2,...n});t.dispatchEvent(o)}(t,e,n);break;case"touchend":case"touchstart":!function(t,e,n={}){const o=t.getBoundingClientRect(),i=o.left+o.width/2,r=o.top+o.height/2;if(isFinite(i)&&isFinite(r))try{const o=new Touch({identifier:Date.now(),target:t,clientX:i,clientY:r,pageX:i+window.pageXOffset,pageY:r+window.pageYOffset,radiusX:2.5,radiusY:2.5,rotationAngle:0,force:1}),s=new TouchEvent(e,{bubbles:!0,cancelable:!0,touches:[o],targetTouches:[o],changedTouches:[o],...n});t.dispatchEvent(s)}catch(o){const s=new Event(e,{bubbles:!0,cancelable:!0,...n}),a={identifier:Date.now(),target:t,clientX:i,clientY:r,pageX:i+window.pageXOffset,pageY:r+window.pageYOffset,screenX:i,screenY:r};s.touches=[a],s.targetTouches=[a],s.changedTouches=[a],t.dispatchEvent(s)}}(t,e,n);break;case"mouseover":case"mousedown":case"mouseup":case"mouseout":case"mousemove":case"click":!function(t,e,n={}){const o=t.getBoundingClientRect(),i=o.left+o.width/2,r=o.top+o.height/2;if(!isFinite(i)||!isFinite(r))return;const s=new MouseEvent(e,{bubbles:!0,cancelable:!0,clientX:i,clientY:r,...n});t.dispatchEvent(s)}(t,e,n);break;case"pointerover":case"pointerdown":case"pointerup":case"pointerout":!function(t,e,n={}){const o=t.getBoundingClientRect(),i=o.left+o.width/2,r=o.top+o.height/2;if(!isFinite(i)||!isFinite(r))return;const s=new PointerEvent(e,{bubbles:!0,cancelable:!0,clientX:i,clientY:r,...n});t.dispatchEvent(s)}(t,e,{pressure:1,width:30.263,height:30.263});break;default:const o=new Event(e,{bubbles:!0,cancelable:!0,...n});t.dispatchEvent(o)}}function I(t,e,n,o,i,r,s,a){try{let c;if(c=t?document.querySelector(t):A(e,n,o,i,s),c&&"select"===c.tagName.toLowerCase()){c.focus();const t=Array.from(c.options),e="string"==typeof r?parseInt(r,10):r;!isNaN(e)&&e>=0&&e<t.length?(c.selectedIndex=e,c.dispatchEvent(new Event("change",{bubbles:!0})),c.dispatchEvent(new Event("input",{bubbles:!0})),a({status:"success",message:`Selected option at index ${e} in select element`})):a({status:"error",error:`Option at index ${r} not found in select element`})}else a({status:"error",error:"Element not found or is not a select element"})}catch(t){a({status:"error",error:`An error occurred during select simulation: ${t}`})}}function N(t,e,n,o,i,r,s){let a;a=t?document.querySelector(t):A(e,n,o,i,r),a?(a.scrollIntoView({behavior:"smooth",block:"center"}),s&&s({status:"success",message:"Scrolled to element",details:{tag:e,id:n,class:o,textContent:i}})):s&&s({status:"error",message:"Element not found",details:{tag:e,id:n,class:o,textContent:i}})}function B(t,e,n,o,i,r,s){try{let a;if(a=t?document.querySelector(t):A(e,n,o,i,r),a){if("none"===window.getComputedStyle(a).display)return void(s&&s({status:"error",error:`Element with tag ${e}, id ${n}, class ${o}, text content ${i}, attributes ${r} not visible, click failed`}));if(function(t){return t&&t.tagName&&"input"===t.tagName.toLowerCase()&&"radio"===t.type}(a))return a.checked=!0,a.dispatchEvent(new Event("change",{bubbles:!0})),void(s&&s({status:"success",message:"Radio button checked"}));if(function(t){return t&&t.tagName&&"input"===t.tagName.toLowerCase()&&"checkbox"===t.type}(a))return a.checked=!a.checked,a.dispatchEvent(new Event("change",{bubbles:!0})),void(s&&s({status:"success",message:"Checkbox toggled",checked:a.checked}));a.focus(),function(t){["mouseover","mouseenter","mousemove","focus","focusin","mousedown","pointerdown","touchstart","mouseup","pointerup","touchend","click","focus","focusin"].forEach((e=>{$(t,e)}))}(a),s({status:"success"})}else s({status:"error",error:`Element with tag ${e}, id ${n}, class ${o}, text content ${i}, attributes ${r} not found, click failed`})}catch(t){s({status:"error",error:`An error occurred during click simulation for element with tag ${e}, id ${n}, class ${o}, text content ${i}, attributes ${r}, error: ${t}`})}}function j(t,e,o,i,r=null){const s=()=>t.innerText.includes(e)||t.innerHTML.includes(e)||t.value?.includes(e);try{t.focus();const a=["mouseover","mouseenter","mousemove","focus","focusin","mousedown","pointerdown","mouseup","pointerup","click"];for(const e of a)$(t,e);if(o||!o)(async function(t,e,o=null){const i=()=>t.innerText?.includes(e)||t.innerHTML?.includes(e)||t.value&&t.value.includes(e);async function r(e,n){try{return await M(t),await e(),await new Promise((t=>setTimeout(t,50))),i()?{status:"success",message:`${n} successful`}:null}catch(t){return null}}const s=[{fn:async()=>{const n=new InputEvent("input",{bubbles:!0,cancelable:!0,composed:!0,inputType:"insertText",data:e});t.dispatchEvent(n)},name:"Input event",id:3},{fn:async()=>{try{t.focus(),void 0!==t.value?t.value="":void 0!==t.textContent&&(t.textContent="");for(const n of e){let e,o,i=n;/^\d$/.test(n)?(i=n,e=`Digit${n}`,o=n.charCodeAt(0)):(i=n,e=`Key${n.toUpperCase()}`,o=n.toUpperCase().charCodeAt(0)),t.dispatchEvent(new KeyboardEvent("keydown",{key:i,code:e,keyCode:o,which:o,bubbles:!0,cancelable:!0,composed:!0})),t.dispatchEvent(new InputEvent("input",{inputType:"insertText",data:n,bubbles:!0,cancelable:!0,composed:!0})),void 0!==t.value?t.value+=n:void 0!==t.textContent&&(t.textContent+=n),t.dispatchEvent(new KeyboardEvent("keyup",{key:i,code:e,keyCode:o,which:o,bubbles:!0,cancelable:!0,composed:!0})),await new Promise((t=>setTimeout(t,10)))}t.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))}catch(t){return null}},name:"Playwright-style input",id:7},{fn:async()=>{if(void 0!==t.value||void 0!==t.innerText){t.focus();const n=e=>{const n=new KeyboardEvent("keydown",{key:e,bubbles:!0}),o=new KeyboardEvent("keypress",{key:e,bubbles:!0}),i=new KeyboardEvent("keyup",{key:e,bubbles:!0});t.dispatchEvent(n),t.dispatchEvent(o),null!==t.querySelector("*")?t.innerHTML+=e:t.innerText+=e,t.dispatchEvent(i)};if(e.length>10){const t=10;for(let o=0;o<e.length;o+=t){const r=e.slice(o,o+t);for(const t of r)await new Promise((t=>setTimeout(t,70*Math.random()+50))),n(t);if(e.slice(0,o+r.length),!i())throw new Error("Failed to persist text input")}}else for(const t of e)await new Promise((t=>setTimeout(t,70*Math.random()+50))),n(t)}},name:"Simulated typing paste",id:6},{fn:async()=>{const n=new DataTransfer;n.setData("text/plain",e);const o=new ClipboardEvent("paste",{clipboardData:n,bubbles:!0,cancelable:!0,composed:!0});t.dispatchEvent(o)},name:"Direct paste event",id:1},{fn:async()=>{void 0!==t.value?t.value=e:void 0!==t.innerText?t.innerText=e:void 0!==t.textContent&&(t.textContent=e)},name:"Direct text insertion",id:2},{fn:async()=>{try{const n=new DataTransfer;n.setData("text/plain",e);const o=new ClipboardEvent("paste",{clipboardData:n,bubbles:!0,cancelable:!0,composed:!0});t.dispatchEvent(o),await new Promise((t=>setTimeout(t,50))),t.focus(),void 0!==t.value?t.value="":void 0!==t.textContent&&(t.textContent="");for(const n of e){let e,o,i=n;/^\d$/.test(n)?(i=n,e=`Digit${n}`,o=n.charCodeAt(0)):(i=n,e=`Key${n.toUpperCase()}`,o=n.toUpperCase().charCodeAt(0)),t.dispatchEvent(new KeyboardEvent("keydown",{key:i,code:e,keyCode:o,which:o,bubbles:!0,cancelable:!0,composed:!0})),t.dispatchEvent(new InputEvent("input",{inputType:"insertText",data:n,bubbles:!0,cancelable:!0,composed:!0})),void 0!==t.value?t.value+=n:void 0!==t.textContent&&(t.textContent+=n),t.dispatchEvent(new KeyboardEvent("keyup",{key:i,code:e,keyCode:o,which:o,bubbles:!0,cancelable:!0,composed:!0})),await new Promise((t=>setTimeout(t,10)))}return t.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0})),!0}catch(t){return null}},name:"Combined paste + Playwright-style input",id:9},{fn:async()=>{try{const o=S(t),i=document.querySelector(o);return i&&i===t&&!!(await chrome.runtime.sendMessage({action:"debuggerInput",selector:o,text:e,stateId:n})).success||null}catch(t){return null}},name:"Chrome Debugger API",id:8},{fn:async()=>{const n=JSON.stringify(e),o=document.createElement("script");o.type="application/javascript",t.id?CSS.escape(t.id.replace(/\s+/g,"")):t.tagName.toLowerCase(),o.textContent=`\n\t\t\t(function() {\n\t\t\t\tconst target = document.getElementById('${t.id.replace(/\s+/g,"")}');\n\t\t\t\tif (target) {\n\t\t\t\t\tif (target.value !== undefined) {\n\t\t\t\t\t\ttarget.value += ${n};\n\t\t\t\t\t} else if (target.innerText !== undefined) {\n\t\t\t\t\t\ttarget.innerText += ${n};\n\t\t\t\t\t} else if (target.innerHTML !== undefined) {\n\t\t\t\t\t\ttarget.innerHTML += ${n};\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn('Target element not found with id:', '${t.id}');\n\t\t\t\t}\n\t\t\t})();\n\t\t`,document.body.appendChild(o),o.remove()},name:"Advanced script injection with script element",id:4},{fn:async()=>{const n=document.createElement("script");n.textContent=`\n\t\t\t(function() {\n\t\t\t\tconst target = document.getElementById('${t.id.replace(/\s+/g,"")}');\n\t\t\t\tif (!target) {\n\t\t\t\t\tconsole.warn('Target element not found:', '${t.id}');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst dataTransfer = new DataTransfer();\n\t\t\t\tdataTransfer.setData("text/plain", ${JSON.stringify(e)});\n\t\t\t\t\n\t\t\t\tconst pasteEvent = new ClipboardEvent("paste", {\n\t\t\t\t\tclipboardData: dataTransfer,\n\t\t\t\t\tbubbles: true,\n\t\t\t\t\tcancelable: true,\n\t\t\t\t\tcomposed: true\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\ttarget.dispatchEvent(pasteEvent);\n\t\t\t})();\n\t\t`,document.documentElement.appendChild(n),n.remove()},name:"Advanced script injection with ClipboardEvent",id:5},{fn:()=>{if(!t)return;t.focus();const n=e,o=e.charCodeAt(0),i=/^\d$/.test(e)?`Digit${e}`:`Key${e.toUpperCase()}`;["keydown","keypress","keyup"].forEach((e=>{t.dispatchEvent(new KeyboardEvent(e,{key:n,code:i,keyCode:o,which:o,bubbles:!0}))})),t.value=n,t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0}))},name:"Originated from LinkedIn",id:15}];if(o){const t=o.toString().split(",").map((t=>parseInt(t.trim()))).filter((t=>!isNaN(t)));if(t.length>0){const e=0===t[t.length-1],n=e?t.slice(0,-1):t;if(e&&0===n.length)return{status:"error",error:"No methods to try"};if(e){const t=[];for(let e=0;e<n.length;e++){const o=n[e],i=s.find((t=>t.id===o));i&&t.push(i)}s.length=0,s.push(...t)}else{const t=[...s],e=[];for(let o=n.length-1;o>=0;o--){const i=n[o],r=t.findIndex((t=>t.id===i));if(-1!==r){const[n]=t.splice(r,1);e.unshift(n)}}s.length=0,s.push(...e,...t)}}}for(let t=0;t<s.length;t++){const e=s[t],n=await r(e.fn,e.name);if(n)return n;if(t===s.length-1)return{status:"error",error:"All paste methods failed"}}})(t,e,r).then((t=>{"success"===t.status&&s()?i&&i({status:t.status,message:t.message}):i&&i({status:"error",error:`Paste simulation failed: ${t.error}`})})).catch((t=>{}));else{let n=0,r=!1;const a=()=>{if(!r)if(n>=e.length)s()?i&&i({status:"success",message:"Input successful via typing"}):i&&i({status:"error",error:"Text not found after typing completion"});else{r=!0;try{const i=e[n],s=new KeyboardEvent("keydown",{key:i,bubbles:!0}),c=new KeyboardEvent("keypress",{key:i,bubbles:!0}),l=new InputEvent("input",{data:i,inputType:"insertText",isTrusted:!0,composed:!0,bubbles:!0}),u=new KeyboardEvent("keyup",{key:i,bubbles:!0});t.dispatchEvent(s),t.dispatchEvent(c),o?null!==t.querySelector("*")?t.innerHTML+=i:t.innerText+=i:t.value+=i,t.dispatchEvent(l),t.dispatchEvent(u),n++,setTimeout((()=>{r=!1,a()}),50*Math.random()+5)}catch(t){i&&i({status:"error",error:`Typing failed at index ${n}: ${t.message}`})}}};a()}}catch(t){i&&i({status:"error",error:`Simulation failed: ${t.message}`})}}function L(t,e,n,o,i,r,s,a=null,c){let l;if(l=t?document.querySelector(t):A(e,n,o,i,s),!l)return void(c&&c({status:"error",error:`Element with tag ${e}, id ${n}, class ${o}, text content ${i}, input value ${r}, attributes ${s} not found, input failed`}));if("none"===window.getComputedStyle(l).display)return void(c&&c({status:"error",error:`Element with tag ${e}, id ${n}, class ${o}, text content ${i}, input value ${r}, attributes ${s} not visible, input failed`}));if(!r)return void(c&&c({status:"error",error:`Empty input value detected for element with tag ${e}, id ${n}, class ${o}, text content ${i}, input value ${r}, attributes ${s}`}));l.getAttribute("contenteditable");M(l,(t=>{j(l,r,false,(t=>{c&&c(t)}),a)}))}async function M(t,e){const n=Date.now(),o=()=>(t.value||t.innerText||"").trim().length>0;try{if(void 0!==t.value?t.value="":null!==t.querySelector("*")?t.innerHTML="":t.innerText="",!o()){const t={status:"success",message:"Successfully cleared text using direct method"};return e&&e(t),t}}catch(t){}let i=0,r=1/0;for(;o();){if(Date.now()-n>15e4){const t={status:"error",message:"Backspace simulation timed out after 5 minutes"};return e&&e(t),t}if(i>=2e3){const t={status:"error",message:"Failed to clear text after 2000 attempts"};return e&&e(t),t}const o=(t.value||t.innerText||"").trim().length;if(i>100&&o>=r){const t={status:"error",message:"Text length not decreasing after multiple attempts"};return e&&e(t),t}r=o;try{const e=new KeyboardEvent("keydown",{key:"Backspace",code:"Backspace",keyCode:8,which:8,bubbles:!0,cancelable:!0}),n=new InputEvent("input",{inputType:"deleteContentBackward",bubbles:!0,cancelable:!0}),o=new KeyboardEvent("keyup",{key:"Backspace",code:"Backspace",keyCode:8,which:8,bubbles:!0,cancelable:!0});t.dispatchEvent(e),void 0!==t.value?t.value=t.value.slice(0,-1):null!==t.querySelector("*")?t.innerHTML=t.innerHTML.slice(0,-1):t.innerText=t.innerText.slice(0,-1),t.dispatchEvent(n),t.dispatchEvent(o),await new Promise((t=>setTimeout(t,30*Math.random()+20))),i++}catch(t){const n={status:"error",message:`Error during backspace simulation: ${t.message}`};return e&&e(n),n}}const s={status:"success",message:`Successfully cleared text after ${i} attempts`};return e&&e(s),s}function D(){window.removeEventListener("message",R),window.__contentScriptInterval&&(clearInterval(window.__contentScriptInterval),window.__contentScriptInterval=null),window.__contentScriptTimeout&&(clearTimeout(window.__contentScriptTimeout),window.__contentScriptTimeout=null),window.__contentScriptActive=!1,function(){const t=window.location.hostname;if("browser.civai.co"===t||"browsergpt.co"===t||"localhost"===t){const t=e.querySelector("script[src='script.js']"),n=e.querySelector("script[src='realtime-src/realtime-audio.js']"),o=e.querySelector("script[src='realtime-src/realtime-chat.js']");throw t&&t.remove(),n&&n.remove(),o&&o.remove(),new Error("ORPHANED_SCRIPT_TERMINATED")}}();try{a({action:"CONTEXT_INVALID",status:"error",message:"Extension context invalidated"})}catch(t){}throw new Error("BGPT_CONTEXT_INVALID")}function R(t){if("BGPT_INVOKE_EXTENSION"===t.data.type){const e=t.data.action;try{if(function(t){const e=Date.now(),n=s.get(t)||0,o=r[t]?.limit||r.DEFAULT.limit;return o!==i&&(e-n<o||(s.set(t,e),!1))}(e))return;if("PING"===e)return void chrome.runtime.sendMessage({action:"ping",stateId:t.data.currentStateId},(e=>{chrome.runtime.lastError?D():(o=Date.now(),a({action:"PONG",status:"active",stateId:t.data.currentStateId}))}));if("getFreshStateId"===e)return void chrome.runtime.sendMessage({action:"getFreshStateId"},(t=>{}));if("handleChatButtonClick"===e)return void chrome.runtime.sendMessage({action:"handleChatButtonClick",stateId:n},(t=>{chrome.runtime.lastError}));if(t.data.currentStateId!==n)return;{const e={...t.data,stateId:t.data.currentStateId};chrome.runtime.sendMessage(e,(t=>{chrome.runtime.lastError}))}}catch(t){throw new Error("shutting down orphaned script")}}}function q(t,e){!function(){const t=document.createElement("style");t.textContent=`\n        @font-face {\n            font-family: 'Font Awesome 5 Free';\n            font-style: normal;\n            font-weight: 900;\n            src: url('${chrome.runtime.getURL("webfonts/fa-solid-900.woff2")}') format('woff2');\n        }\n        @font-face {\n            font-family: 'Font Awesome 5 Free';\n            font-style: normal;\n            font-weight: 400;\n            src: url('${chrome.runtime.getURL("webfonts/fa-regular-400.woff2")}') format('woff2');\n        }\n        @font-face {\n            font-family: 'Font Awesome 5 Brands';\n            font-style: normal;\n            font-weight: 400;\n            src: url('${chrome.runtime.getURL("webfonts/fa-brands-400.woff2")}') format('woff2');\n        }\n    `,document.head.appendChild(t)}(),e.forEach((e=>{const n=document.createElement("link");n.href=chrome.runtime.getURL(e),n.type="text/css",n.rel="stylesheet",t.appendChild(n)}))}chrome.runtime.onMessage.addListener(((t,e,o)=>{if(!window.__contentScriptActive)return o({status:"inactive"}),!0;switch(t.action){case"setStateId":n||(n=t.stateId,window.currentStateId=n),a({action:"setStateId",stateId:t.stateId});break;case"reset":o({status:"reset not done"});break;case"ping":return o({status:"active"}),!0;case"simulateClick":return B(null,t.clickable_element.tag,t.clickable_element.id,t.clickable_element.class,t.clickable_element.textcontent,t.clickable_element.attributes,(t=>{o(t)})),!0;case"simulateInput":return L(null,t.clickable_element.tag,t.clickable_element.id,t.clickable_element.class,t.clickable_element.textcontent,t.clickable_element.input_value,t.clickable_element.attributes,t.clickable_element.method,(t=>{o(t)})),!0;case"takeScreenshot":let e=_(t.type);return chrome.runtime.sendMessage({...t,action:"captureTab",clickableElements:e,stateId:n},(t=>{o(t)})),!0;case"takeFullScreenshot":return clickableE=_(t.type),chrome.runtime.sendMessage({action:"captureFullTab",clickableElements:clickableE,prompt:t.prompt,textcontent:b(),stateId:n},(t=>{o(t)})),!0;case"getElements":let i=null;return i=["select","click","input","scroll_to_element","bulk_input","scroll_on_element_up","scroll_on_element_down"].includes(t.type)?_(t.type):b(),o({elements:i}),!0;case"sendMessagetoUser":return a({status:t.status,message:t.message,bgptIndex:t.bgptIndex,playSpeech:t.playSpeech,stateId:t.stateId}),o({status:"success",message:t.message}),!0;case"enter_key":const r=new KeyboardEvent("keydown",{key:"Enter",code:"Enter",keyCode:13,which:13,bubbles:!0,cancelable:!0});return document.activeElement.dispatchEvent(r),o({status:"success",message:"Enter key pressed"}),!0;case"back_button":return window.history.back(),o({status:"success",message:"Navigated back"}),!0;case"reload_page":return window.location.reload(),setTimeout((()=>{o({status:"success",message:"Page reloaded"})}),3e3),!0;case"scroll_up":return window.scrollBy({top:-window.innerHeight,behavior:"smooth"}),setTimeout((()=>{o({status:"success",message:"Scrolled up"})}),2e3),!0;case"scroll_down":return window.scrollBy({top:window.innerHeight,behavior:"smooth"}),setTimeout((()=>{o({status:"success",message:"Scrolled down"})}),2e3),!0;case"annotateElements":return C(t.show,t.type,(e=>{if(t.show){const{overlay:t,mapping:n}=e,i=Array.from(n||[]).map((([t,e])=>({number:t,selector:e.selector})));o({status:"success",mapping:i})}else o({status:"success"})})),!0;case"extractAllMentions":return async function(t="username",e=null){const n=new Set;let o=0;const i=t=>new Promise((e=>setTimeout(e,t))),r={username:/@[A-Za-z0-9_]+/g,email:/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g},s=r[t]||r.username;try{for(;;){const t=document.body.innerText;if((t.match(s)||[]).forEach((t=>n.add(t))),n.size===o)break;o=n.size,window.scrollTo(0,document.body.scrollHeight),await i(2e3)}const t=[...n];return e&&"function"==typeof e&&e({status:"success",result:t}),t}catch(t){throw e&&"function"==typeof e&&e({status:"error",error:t.message}),t}}(t.type,(t=>{o(t)})),!0;case"performAnnotatedAction":return"click"===t.cmd_action?B(t.selector,"","","","",{},(t=>{o(t)})):"input"===t.cmd_action?L(t.selector,"","","","",t.inputValue,{},t.method,(t=>{o(t)})):"scroll"===t.cmd_action?N(t.selector,"","","","",{},(t=>{setTimeout((()=>{o(t)}),2e3)})):"select"===t.cmd_action?I(t.selector,"","","","",t.inputValue,{},(t=>{o(t)})):"scroll_on_element_up"===t.cmd_action?H(t.selector,"","","","",{},(t=>{o(t)}),"up",t.length||500):"scroll_on_element_down"===t.cmd_action&&H(t.selector,"","","","",{},(t=>{o(t)}),"down",t.length||500),!0;case"captureScreen":return chrome.runtime.sendMessage({action:"captureScreen",stateId:t.stateId},(t=>{chrome.runtime.lastError?o({status:"error",error:chrome.runtime.lastError.message}):o(t)})),!0;case"scroll_to_nearest_input_field":const s=function(){const t=window.innerHeight,e=window.scrollY,n=e+t,o=Array.from(document.querySelectorAll(["textarea",'input[type="text"]','input[type="email"]','input[type="password"]','input[type="number"]','input[type="tel"]','input[type="search"]','input[type="button"]',"div[contenteditable='true']","div[role='textbox']"].join(","))).find((t=>t.getBoundingClientRect().top+e>n));return o}();return s?(s.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout((()=>{o({status:"success",message:"Scrolled to next input field"})}),2e3)):(window.scrollBy({top:500,behavior:"smooth"}),setTimeout((()=>{o({status:"success",message:"No input field found, scrolled down"})}),2e3)),!0;case"scrollToElement":return N(null,t.clickable_element.tag,t.clickable_element.id,t.clickable_element.class,t.clickable_element.textcontent,t.clickable_element.attributes,(t=>{o(t)})),!0;case"simulateSelect":return I(null,t.clickable_element.tag,t.clickable_element.id,t.clickable_element.class,t.clickable_element.textcontent,t.clickable_element.input_value,t.clickable_element.attributes,(t=>{o(t)})),!0;case"getElementSelector":if(window.__lastRightClickedElement){const t=S(window.__lastRightClickedElement);o({status:"success",selector:t})}else o({status:"error",message:"No element was right-clicked"});return!0;case"scrollOnElementUp":return H(null,t.clickable_element.tag,t.clickable_element.id,t.clickable_element.class,t.clickable_element.textcontent,t.clickable_element.attributes,(t=>{o(t)}),"up",t.length||null),!0;case"scrollOnElementDown":return H(null,t.clickable_element.tag,t.clickable_element.id,t.clickable_element.class,t.clickable_element.textcontent,t.clickable_element.attributes,(t=>{o(t)}),"down",t.length||null),!0;default:return a({action:t.action,status:t.status,message:t.message,bgptIndex:t.bgptIndex,stateId:t.stateId}),o({}),!0}})),window.addEventListener("message",R);function P(){const t=window.location.hostname;return"browser.civai.co"!==t&&"browsergpt.co"!==t}function H(t,e,n,o,i,r,s,a="down",c=null){let l;if(l=t?document.querySelector(t):A(e,n,o,i,r),!l)return void(s&&s({status:"error",message:"Element not found for scroll event",details:{tag:e,id:n,class:o,textContent:i}}));let u=l;const d=window.getComputedStyle(l).overflowY;("auto"===d||"scroll"===d)&&l.scrollHeight>l.clientHeight||l===document.body||l===document.documentElement||(u=function(t){for(;t&&t!==document.body&&t!==document.documentElement;){const e=window.getComputedStyle(t).overflowY;if(("auto"===e||"scroll"===e)&&t.scrollHeight>t.clientHeight)return t;t=t.parentElement}return window}(l));let m=c;m&&!isNaN(m)||(m=u===document.body||u===document.documentElement||u===window?window.innerHeight:u.clientHeight);const p=u===window?window.scrollY:u.scrollTop;try{u===document.body||u===document.documentElement||u===window?"up"===a?window.scrollBy({top:-m,behavior:"smooth"}):window.scrollBy({top:m,behavior:"smooth"}):"function"==typeof u.scrollBy?"up"===a?u.scrollBy({top:-m,behavior:"smooth"}):u.scrollBy({top:m,behavior:"smooth"}):u.scrollTop="up"===a?Math.max(0,u.scrollTop-m):u.scrollTop+m,setTimeout((()=>{const t=(u===window?window.scrollY:u.scrollTop)-p;if(!s)return 0!==t?{status:"success",message:`Scroll event dispatched and movement detected (${a}, moved ${t}px)`,details:{tag:e,id:n,class:o,textContent:i,direction:a,length:m,delta:t}}:{status:"error",message:`Scroll event dispatched but no movement detected (${a}, moved 0px)`,details:{tag:e,id:n,class:o,textContent:i,direction:a,length:m,delta:t}};s(0!==t?{status:"success",message:`Scroll event dispatched and movement detected (${a}, moved ${t}px)`,details:{tag:e,id:n,class:o,textContent:i,direction:a,length:m,delta:t}}:{status:"error",message:`Scroll event dispatched but no movement detected (${a}, moved 0px)`,details:{tag:e,id:n,class:o,textContent:i,direction:a,length:m,delta:t}})}),200);const t=new Event("scroll",{bubbles:!0,cancelable:!0});u.dispatchEvent(t)}catch(t){s&&s({status:"error",error:`Error dispatching scroll event: ${t}`})}}P()&&function(t){const n="browser-gpt-sticky",o=document.querySelectorAll(`[data-extension-id="${n}"]`);o.length>0&&o.forEach((t=>t.remove()));const i=document.querySelectorAll('[id="browser-gpt-sticky"]');i.length>0&&i.forEach((t=>t.remove()));const r=document.createElement("div");r.id="browser-gpt-sticky",r.style.display="none",document.body.appendChild(r);const s=document.createElement("span"),a=s.attachShadow({mode:"closed"});window.dddd_bgpt=a,s.setAttribute("data-extension-id",n),a.BGPT_INJECTED=!0,a.injectionTime=(new Date).toISOString(),a.checkInjectionStatus=function(){return{injected:this.BGPT_INJECTED,timestamp:this.injectionTime,stickyButton:!!this.querySelector("#sticky-voice-button"),container:!!document.querySelector(`[data-extension-id="${n}"]`)}},e=a,window.shadowRootGlobal=e,function(t,e){const n=t||document.body||document.documentElement;Array.isArray(e)||(e=[e]),e.forEach((t=>{const e=document.createElement("script");if("object"==typeof t&&null!==t){const{path:n,type:o,async:i=!1,defer:r=!1}=t;if(!n)return;e.src=chrome.runtime.getURL(n),o&&(e.type=o),i&&(e.async=!0),r&&(e.defer=!0)}else e.src=chrome.runtime.getURL(t);n.appendChild(e)}))}(a,["proxy.js","pip-window-js/pip-module.js",{path:"pip-window-js/document-pip.js",type:"module"},"js/driver.js","js/fingerprint.js","pip-window-js/bgptMarked.min.js"]),a.innerHTML=t,q(a,["css/styles.css","css/all.min.css","css/components.css","css/realtime.css","css/subscription.css","css/modal.css"]),q(document.body,["css/driver.css"]),document.body.appendChild(s)}('\n<head>\n    <html lang="en">\n\n</head>\n\n<div id="bubble" class="bubble hidden">Siri for the Browser!</div>\n\n\x3c!-- Support Form Modal --\x3e\n<div id="support-form-modal" class="modal hidden">\n    <div align="center" class="modal-content support-form-modal">\n        <button class="modal-close-button" aria-label="Close support form">&times;</button>\n        <h2 class="text-1xl font-bold mb-6 text-center">Contact Support</h2>\n        <form id="help-form">\n            <div class="form-group">\n         \n                <input type="email" id="email" name="email" class="form-input" aria-label="Email" placeholder="Your Email" required>\n            </div>\n            <div class="form-group">\n       \n                <input type="text" id="title" name="title" class="form-input" aria-label="Title" placeholder="Title" required>\n            </div>\n            <div class="form-group">\n          \n                <textarea id="message" name="message" class="form-input" rows="5" aria-label="Message" placeholder="How can we help?" required></textarea>\n            </div>\n            <div align="center" class="text-center">\n                <button type="submit" class="submit-button" aria-label="Send support message">Send Message</button>\n            </div>\n        </form>\n    </div>\n</div>\n\n<div id="modal" class="modal hidden">\n    <div class="modal-content">\n        <button class="modal-close-button" id="close-modal" aria-label="Close modal">&times;</button>\n        <p id="modal-text" class="modal-text"></p>\n\n        \x3c!-- New input field container --\x3e\n        <div id="modal-input-container" class="modal-input-container hidden">\n           \n            <textarea id="modal-input" class="modal-input" placeholder="Enter your input here"></textarea>\n        </div>\n\n        <div class="modal-footer">\n            <button id="cancel-button" class="cancel-button hidden" aria-label="Cancel action">CANCEL</button>\n            <button id="ok-button" class="ok-button" aria-label="Confirm action">OK</button>\n        </div>\n    </div>\n</div>\n\n<div class="sticky-button-container">\n    <button id="sticky-help-button" class="sticky-button top" title="Get Help">\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="16" height="16" aria-hidden="true">\n            <path fill="white" d="M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm169.8-90.7c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/>\n        </svg>\n    </button>\n    \n    <button id="sticky-voice-button" class="sticky-button sticky-button-voice" aria-label="Voice input button">\n            <i class="fas icon-size fa-microphone"></i>\n    </button>\n    \n    <button id="sticky-chat-button" class="sticky-button bottom">\n        <div class="chat-icon" title="Chat">\n            <i class="fas icon-size fa-comments"></i>\n        </div>\n        <div class="lightbulb-icon hidden" title="Suggestions">\n            <i class="fas icon-size fa-lightbulb"></i>\n        </div>\n    </button>\n    \n    <div class="kebab-handle" aria-label="Drag handle">\n        <div class="kebab-dot"></div>\n        <div class="kebab-dot"></div>\n        <div class="kebab-dot"></div>\n    </div>\n</div>\n\n\x3c!-- Module scripts --\x3e\n\n<script src="script.js"><\/script>\n\n\x3c!-- Regular scripts --\x3e\n<script src="socket.io.min.js"><\/script>\n\n<script src="realtime-src/realtime-script.js"><\/script>\n\n'),chrome.runtime.sendMessage({action:"getStateId"},(function(t){t&&t.stateId&&(n?D():(n=t.stateId,window.currentStateId=n,a({action:"setStateId",stateId:n,status:"success",bgptIndex:!P()})))}))})();